packages:
  # Depots ecosysteme capesos
  - category: "repository"
    name: "capesos-repository-index"
    version: "20211104"
  - category: "repository"
    name: "helios"
    version: "20220217"
  - category: "repository"
    name: "capesos-commons"
    version: "20220224"
  - category: "repository"
    name: "session"
    version: "20220217"
  - category: "repository"
    name: "capesos-from-gentoo"
    version: "20220217"
    # repo mocacino stabilized
  - category: "repository"
    name: "livecd-stabilized"
    version: "20220222"
  - category: "repository"
    name: "luet-stabilized"
    version: "20220222"
    # repo desktop stabilized
  - category: "repository"
    name: "mocaccino-desktop-stabilized"
    reference: true
    labels:
      package.version: "20220314111708-repository.yaml"
    version: "20220314111708"
    # repo stabilized autobump
  - category: "repository"
    name: "mocaccino-extra-stabilized"
    reference: true
    labels:
      autobump.arch: "amd64"
      autobump.revdeps: "true"
      autobump.string_replace: '{ "prefix": "" }'
      autobump.strategy: "custom"
      autobump.prefix: "prefix"
      autobump.hook: |
        skopeo list-tags docker://quay.io/capesos/extra | jq -rc '.Tags | map(select(. | contains("-repository.yaml"))) | sort | .[-1]'
      autobump.version_hook: |
        skopeo list-tags docker://quay.io/capesos/extra | jq -rc '.Tags | map(select(. | contains("-repository.yaml"))) | sort | .[-1]' | sed "s/-repository.yaml//g"
      package.version: "20220317222527-repository.yaml"
    version: "20220317222527"
  - category: "repository"
    name: "mocaccino-kernel-stabilized"
    reference: true
    labels:
      autobump.arch: "amd64"
      autobump.revdeps: "true"
      autobump.string_replace: '{ "prefix": "" }'
      autobump.strategy: "custom"
      autobump.prefix: "prefix"
      autobump.hook: |
        skopeo list-tags docker://quay.io/capesos/kernel-stable | jq -rc '.Tags | map(select(. | contains("-repository.yaml"))) | sort | .[-1]'
      autobump.version_hook: |
        skopeo list-tags docker://quay.io/capesos/kernel-stable | jq -rc '.Tags | map(select(. | contains("-repository.yaml"))) | sort | .[-1]' | sed "s/-repository.yaml//g"
      package.version: "20220228194601-repository.yaml"
    version: "20220228194601"
  - category: "repository"
    name: "mocaccino-os-commons-stabilized"
    reference: true
    labels:
      autobump.arch: "amd64"
      autobump.revdeps: "true"
      autobump.string_replace: '{ "prefix": "" }'
      autobump.strategy: "custom"
      autobump.prefix: "prefix"
      autobump.hook: |
        skopeo list-tags docker://quay.io/capesos/os-commons | jq -rc '.Tags | map(select(. | contains("-repository.yaml"))) | sort | .[-1]'
      autobump.version_hook: |
        skopeo list-tags docker://quay.io/capesos/os-commons | jq -rc '.Tags | map(select(. | contains("-repository.yaml"))) | sort | .[-1]' | sed "s/-repository.yaml//g"
      package.version: "20220217135934-repository.yaml"
    version: "20220217135934"
    # Depots ecosystem capesos frozen
  - category: "repository"
    name: "capesos-from-gentoo-frozen"
    version: "20220217"
    # Depot frozen sans pin
  - category: "repository"
    name: "luet-frozen"
    version: "20220304"
  - category: "repository"
    name: "livecd-frozen"
    version: "20220304"
    # Depot mocaccino frozen (Ã  rework via pin)
  - category: "repository"
    name: "mocaccino-kernel-frozen"
    reference: true
    labels:
      package.version: "20220228194601-repository.yaml"
    version: "20220228194601"
  - category: "repository"
    name: "mocaccino-desktop-frozen"
    reference: true
    labels:
      package.version: "20220301120125-repository.yaml"
    version: "20220301120125"
  - category: "repository"
    name: "mocaccino-extra-frozen"
    reference: true
    labels:
      package.version: "20220226204628-repository.yaml"
    version: "20220226204628"
  - category: "repository"
    name: "mocaccino-os-commons-frozen"
    reference: true
    labels:
      package.version: "20220217135934-repository.yaml"
    version: "20220217135934"
    # repo frozen-old (temporaire)
  - category: "repository"
    name: "mocaccino-kernel-frozen-old"
    version: "20220212"
  - category: "repository"
    name: "luet-frozen-old"
    version: "20220212"
  - category: "repository"
    name: "mocaccino-desktop-frozen-old"
    version: "20220212"
  - category: "repository"
    name: "mocaccino-extra-frozen-old"
    version: "20220212"
  - category: "repository"
    name: "mocaccino-os-commons-frozen-old"
    version: "20220212"
  - category: "repository"
    name: "capesos-from-gentoo-frozen-old"
    version: "20220225"
